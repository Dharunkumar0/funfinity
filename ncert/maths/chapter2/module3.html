<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Patterns with Whole Numbers</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin: 0;
  font-family: Poppins, sans-serif;
  background: linear-gradient(135deg,#dfe9f3,#ffffff);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
.card {
  width: 95%;
  max-width: 1100px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 12px 32px rgba(0,0,0,0.1);
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
h1 {
  margin: 0;
  font-size: 26px;
  text-align: center;
  background: linear-gradient(90deg,#6c5ce7,#00b894);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.controls {
  text-align: center;
  margin: 15px 0;
}
select, button {
  padding: 8px 14px;
  margin: 4px;
  border-radius: 8px;
  border: 1px solid #bbb;
  cursor: pointer;
  font-weight: 600;
}
#pauseBtn { background: #00b894; color: #fff; border: none; }
#replayBtn { background: #ff7675; color: #fff; border: none; display: none; }
.caption {
  background: #f7f9ff;
  padding: 16px;
  border-radius: 10px;
  text-align: center;
  font-size: 1.05rem;
  margin-top: 10px;
  font-weight: 500;
}
.svg-container {
  width: 100%;
  height: 75vh;
  overflow-y: auto;
}
svg {
  width: 100%;
  display: block;
}
.tick { font-size: 32px; fill: #2ecc71; opacity: 0; transform-origin: center center; }
.example { font-size: 18px; fill: #333; opacity: 0; }
rect { filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.1)); }
@media(max-width:768px){
  h1{ font-size: 20px }
  .example{ font-size: 16px }
  .caption{ font-size: 0.95rem }
}
</style>
</head>
<body>
<div class="card">
  <h1>Patterns with Whole Numbers</h1>
  <div class="controls">
    <label>üåê Language:</label>
    <select id="lang">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
    </select>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
  </div>
  <div class="svg-container" id="svgContainer">
    <svg viewBox="0 0 1000 1800" preserveAspectRatio="xMidYMid meet" id="mainSvg">
      <g id="odd" transform="translate(0,0)">
        <rect width="900" height="140" rx="12" fill="#fffbe6" stroke="#ffd580"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Odd Numbers</text>
        <text id="oddEx" x="450" y="90" class="example" text-anchor="middle">1, 3, 5, 7, 9,... Difference=2</text>
        <text id="oddTick" x="880" y="90" class="tick">‚úî</text>
      </g>
      <g id="even" transform="translate(0,160)">
        <rect width="900" height="140" rx="12" fill="#f1f7ff" stroke="#cfe6ff"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Even Numbers</text>
        <text id="evenEx" x="450" y="90" class="example" text-anchor="middle">2, 4, 6, 8, 10,... Difference=2</text>
        <text id="evenTick" x="880" y="90" class="tick">‚úî</text>
      </g>
      <g id="square" transform="translate(0,320)">
        <rect width="900" height="140" rx="12" fill="#fff7ff" stroke="#f1d6ff"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Square Numbers</text>
        <text id="squareEx" x="450" y="90" class="example" text-anchor="middle">1, 4, 9, 16, 25,... 1¬≤, 2¬≤, 3¬≤...</text>
        <text id="squareTick" x="880" y="90" class="tick">‚úî</text>
      </g>
      <g id="triangular" transform="translate(0,480)">
        <rect width="900" height="140" rx="12" fill="#f7fff0" stroke="#d3ffd6"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Triangular Numbers</text>
        <text id="triEx" x="450" y="90" class="example" text-anchor="middle">1, 3, 6, 10, 15,... nth term = n(n+1)/2</text>
        <text id="triTick" x="880" y="90" class="tick">‚úî</text>
      </g>
      <g id="sumNatural" transform="translate(0,640)">
        <rect width="900" height="140" rx="12" fill="#fff0f7" stroke="#ffb6d5"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Sum of Natural Numbers</text>
        <text id="sumEx" x="450" y="90" class="example" text-anchor="middle">1+2+3+4+5=15, 1+2+...+n = n(n+1)/2</text>
        <text id="sumTick" x="880" y="90" class="tick">‚úî</text>
      </g>
      <g id="ap" transform="translate(0,800)">
        <rect width="900" height="140" rx="12" fill="#f0fff7" stroke="#b6ffd9"></rect>
        <text x="450" y="50" text-anchor="middle" font-size="18">Arithmetic Progression (AP)</text>
        <text id="apEx" x="450" y="90" class="example" text-anchor="middle">2, 5, 8, 11, 14,... Common difference = 3</text>
        <text id="apTick" x="880" y="90" class="tick">‚úî</text>
      </g>
    </svg>
  </div>
  <div id="caption" class="caption">Welcome! Let's explore patterns with whole numbers.</div>
</div>

<script>
const captions = {
  en:[
    "Odd Numbers: Numbers not divisible by 2. Sequence: 1,3,5,... Difference=2",
    "Even Numbers: Numbers divisible by 2. Sequence: 2,4,6,... Difference=2",
    "Square Numbers: Numbers multiplied by themselves. 1,4,9,16,...",
    "Triangular Numbers: Sum of first n numbers. 1,3,6,10,... nth term = n(n+1)/2",
    "Sum of Natural Numbers: Adding 1 to n gives n(n+1)/2. Example: 1+2+3+4+5=15",
    "Arithmetic Progression: Sequence with constant difference. Example: 2,5,8,11,... d=3"
  ],
  hi:[
    "‡§µ‡§ø‡§∑‡§Æ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ: 2 ‡§∏‡•á ‡§µ‡§ø‡§≠‡§æ‡§ú‡•ç‡§Ø ‡§®‡§π‡•Ä‡§Ç‡•§ 1,3,5,... ‡§Ö‡§Ç‡§§‡§∞=2",
    "‡§∏‡§Æ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ: 2 ‡§∏‡•á ‡§µ‡§ø‡§≠‡§æ‡§ú‡•ç‡§Ø‡•§ 2,4,6,... ‡§Ö‡§Ç‡§§‡§∞=2",
    "‡§µ‡§∞‡•ç‡§ó ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§è‡§Å: ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§∏‡•á ‡§ó‡•Å‡§£‡§æ‡•§ 1,4,9,16,...",
    "‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ: ‡§™‡§π‡§≤‡•á n ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Ø‡•ã‡§ó‡•§ 1,3,6,10,... nth = n(n+1)/2",
    "‡§∏‡§π‡§ú ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§Ø‡•ã‡§ó: 1 ‡§∏‡•á n ‡§ú‡•ã‡§°‡§º‡•á‡§Ç‡•§ ‡§â‡§¶‡§æ‡§π‡§∞‡§£:1+2+3+4+5=15",
    "‡§Ö‡§Ç‡§ï‡§ó‡§£‡§ø‡§§ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø: ‡§∏‡§Æ‡§æ‡§® ‡§Ö‡§Ç‡§§‡§∞ ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ‡•§ 2,5,8,11,... ‡§Ö‡§Ç‡§§‡§∞=3"
  ],
  ta:[
    "‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡ÆÆ‡Æø‡Æï‡Øç‡Æï ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Øç: 2‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æï‡Øç‡Æï ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡Ææ‡Æ§‡Æµ‡Øà. 1,3,5,... ‡Æá‡Æü‡Øà‡Æµ‡ØÜ‡Æ≥‡Æø 2",
    "‡Æá‡Æ£‡Øà ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Øç: 2‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æï‡Øç‡Æï‡Æï‡Øç‡Æï‡ØÇ‡Æü‡Æø‡ÆØ‡Æµ‡Øà. 2,4,6,... ‡Æá‡Æü‡Øà‡Æµ‡ØÜ‡Æ≥‡Æø 2",
    "‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Øç: n¬≤. 1,4,9,16,...",
    "‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Øã‡Æ£ ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Øç: 1,3,6,10,... nth = n(n+1)/2",
    "‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡ØÇ‡Æü‡Øç‡Æü‡Æ≤‡Øç: 1+2+3+4+5=15",
    "‡ÆÖ‡Æ±‡Æø‡Æ§‡ÆÆ‡Æø‡Æü ‡Æé‡Æü‡Øà(AP): 2,5,8,11,... ‡Æá‡Æü‡Øà‡Æµ‡ØÜ‡Æ≥‡Æø=3"
  ],
  te:[
    "‡∞µ‡∞ø‡∞∑‡∞Æ ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å: 2‡∞ï‡∞ø ‡∞≠‡∞æ‡∞ó‡∞ø‡∞Ç‡∞ö‡∞≤‡±á‡∞µ‡±Å. 1,3,5,... ‡∞Ö‡∞Ç‡∞§‡∞∞‡∞Ç 2",
    "‡∞ú‡±ã‡∞°‡±Ä ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å: 2‡∞ï‡∞ø ‡∞≠‡∞æ‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å. 2,4,6,... ‡∞Ö‡∞Ç‡∞§‡∞∞‡∞Ç 2",
    "‡∞µ‡∞∞‡±ç‡∞ó ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å: n¬≤. 1,4,9,16,...",
    "‡∞§‡±ç‡∞∞‡∞ø‡∞≠‡±Å‡∞ú ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å: 1,3,6,10,... nth = n(n+1)/2",
    "‡∞∏‡∞π‡∞ú ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤ ‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç: 1+2+3+4+5=15",
    "‡∞Ö‡∞Ç‡∞ï‡∞ó‡∞£‡∞ø‡∞§ ‡∞∂‡±ç‡∞∞‡±á‡∞£‡∞ø(AP): 2,5,8,11,... ‡∞Ö‡∞Ç‡∞§‡∞∞‡∞Ç=3"
  ],
  or:[
    "‡¨¨‡¨ø‡¨∏‡¨Æ ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ: 2 ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨≠‡¨æ‡¨ú‡¨ø‡¨§ ‡¨π‡≠Å‡¨è‡¨®‡¨ø‡•§ 1,3,5,... ‡¨Ö‡¨®‡≠ç‡¨§‡¨∞=2",
    "‡¨∏‡¨Æ ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ: 2 ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨≠‡¨æ‡¨ú‡¨ø‡¨§‡•§ 2,4,6,... ‡¨Ö‡¨®‡≠ç‡¨§‡¨∞=2",
    "‡¨¨‡¨∞‡≠ç‡¨ó ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ: n¬≤. 1,4,9,16,...",
    "‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ: 1,3,6,10,... nth=n(n+1)/2",
    "‡¨∏‡¨π‡¨ú ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ‡¨∞ ‡¨Ø‡≠ã‡¨ó: 1+2+3+4+5=15",
    "‡¨Ö‡¨ô‡≠ç‡¨ï‡¨ó‡¨£‡¨ø‡¨§ ‡¨∂‡≠ç‡¨∞‡≠á‡¨£‡≠Ä(AP): 2,5,8,11,... ‡¨Ö‡¨®‡≠ç‡¨§‡¨∞=3"
  ]
};

const steps = [
  {panel:"#odd", ex:["#oddEx"], tick:"#oddTick"},
  {panel:"#even", ex:["#evenEx"], tick:"#evenTick"},
  {panel:"#square", ex:["#squareEx"], tick:"#squareTick"},
  {panel:"#triangular", ex:["#triEx"], tick:"#triTick"},
  {panel:"#sumNatural", ex:["#sumEx"], tick:"#sumTick"},
  {panel:"#ap", ex:["#apEx"], tick:"#apTick"}
];

const captionEl=document.getElementById("caption");
const langSel=document.getElementById("lang");
const pauseBtn=document.getElementById("pauseBtn");
const replayBtn=document.getElementById("replayBtn");
const svgContainer=document.getElementById("svgContainer");

let step=0, paused=false, utterance=null;

function speak(text,callback){
  if(utterance) window.speechSynthesis.cancel();
  utterance=new SpeechSynthesisUtterance(text);
  utterance.lang=langSel.value+"-IN";
  utterance.rate=0.9;
  utterance.onend=callback;
  window.speechSynthesis.speak(utterance);
}

function animateExamples(exs,callback){
  if(exs.length===0){callback(); return;}
  let i=0;
  function next(){ 
    if(i>=exs.length){callback(); return;}
    gsap.to(exs[i],{opacity:1,y:-5,duration:0.8,onComplete:()=>{i++;next();}});
  }
  next();
}

function scrollToPanel(panel){
  const rect=panel.getBoundingClientRect();
  const containerRect=svgContainer.getBoundingClientRect();
  const offset=rect.top-containerRect.top-20;
  svgContainer.scrollBy({top:offset,behavior:'smooth'});
}

function runStep(i){
  if(i>=steps.length){ replayBtn.style.display="inline-block"; paused=true; return;}
  step=i;
  captionEl.textContent=captions[langSel.value][i];
  const s=steps[i];
  const panelEl=document.querySelector(s.panel);
  const exEls=s.ex.map(id=>document.querySelector(id));
  const tickEl=document.querySelector(s.tick);
  gsap.to(panelEl,{opacity:1,duration:0.8});
  gsap.set(tickEl,{opacity:0,scale:1});
  animateExamples(exEls,()=>{
    speak(captions[langSel.value][i],()=>{
      gsap.to(tickEl,{opacity:1,scale:1.2,duration:0.6,yoyo:true,repeat:1,onComplete:()=>{
        scrollToPanel(panelEl);
        if(i===steps.length-1){ replayBtn.style.display="inline-block"; paused=true;}
        else if(!paused){runStep(i+1);}
      }});
    });
  });
}

function start(){
  gsap.set([...steps.map(s=>document.querySelector(s.panel)),
           ...steps.flatMap(s=>s.ex.map(id=>document.querySelector(id))),
           ...steps.map(s=>document.querySelector(s.tick))],
           {opacity:0,scale:1});
  replayBtn.style.display="none"; paused=false; pauseBtn.textContent="‚è∏ Pause";
  step=0; svgContainer.scrollTop=0;
  runStep(0);
}

pauseBtn.onclick=()=>{
  paused=!paused;
  pauseBtn.textContent=paused?"‚ñ∂ Play":"‚è∏ Pause";
  if(!paused) runStep(step);
};
replayBtn.onclick=start;
langSel.onchange=start;

start();
</script>
</body>
</html>
